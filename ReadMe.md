# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ü–∞—Ä—Å–µ—Ä Kaspi –º–∞–≥–∞–∑–∏–Ω–∞  

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞  

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–∞—Ä—Å–∏—Ç html —Å—Ç—Ä–∞–Ω–∏—Ü—É kaspi —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ js-–±–∞–Ω–¥–ª—ã,
—Ç–∞–∫ –∂–µ –ø–∞—Ä—Å–∏—Ç api –∫–æ—Ç–æ—Ä—ã–π —è —Ä–µ–≤–µ—Ä—Å–Ω—É–ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
–ü–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∫:
- –Ω–∞–∑–≤–∞–Ω–∏–µ
- –æ–ø–∏—Å–∞–Ω–∏–µ
- –º–∏–Ω —Ü–µ–Ω–∞
- –º–∞–∫—Å —Ü–µ–Ω–∞
- –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- —Ä–µ–π—Ç–∏–Ω–≥
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- –∏ —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ
- –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ñ—Ñ–µ—Ä–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ POSTGRESQL, JSON –≤ –ø–∞–ø–∫—É export,–∫–æ—Ç–æ—Ä–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
–¢–∞–∫ –∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–µ–ª–µ—Ä–∏, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç –ø–∞—Ä—Å–∏—Ç—å –∫–∞—Å–ø–∏ –∏ –ø–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ,
—Ç–∞–∫ –∂–µ –∏—Å—Ç–æ—Ä–∏—é

–¥–æ–ø –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏, —Ç–∞–∫ –∂–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–¥


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫  

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è  

git clone git@github.com:Typesh1t1337/VRTECHTZ.git

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
pip install -r requirements.txt  

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:  
POSTGRES_PASSWORD=ZHALGASIKSUPERLOX2007
POSTGRES_USER=ZHALGO
POSTGRES_DB=test_postgres
POSTGRES_PORT=5432
POSTGRES_HOST=db
CELERY_BROKER=redis://redis:6379/0
CELERY_RESULT=redis://redis:6379/1

### 4. —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–∫–µ—Ä
docker-compose up --build

## üóÑÔ∏è PostgreSQL

products

id ‚Äî PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞
name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
kaspi_id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ Kaspi
description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
category ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
min_price ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
max_price ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
rate ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∞
review_amount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
seller_amount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
image_url ‚Äî –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

product_history

id ‚Äî PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
product_id ‚Äî FK –Ω–∞ products.id
name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
category ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
min_price ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
max_price ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
rate ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
review_amount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
seller_amount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
checked_at ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏
image_url ‚Äî –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

offers

id ‚Äî PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ñ—Ñ–µ—Ä–∞
product_id ‚Äî FK –Ω–∞ products.id
seller ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞
price ‚Äî —Ü–µ–Ω–∞ –æ—Ñ—Ñ–µ—Ä–∞

offer_history

id ‚Äî PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
product_id ‚Äî FK –Ω–∞ products.id
offer_id ‚Äî FK –Ω–∞ offers.id
seller ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞
price ‚Äî —Ü–µ–Ω–∞ –æ—Ñ—Ñ–µ—Ä–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
created_at ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏


## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö  
- –ò–Ω—Ç–µ—Ä–≤–∞–ª: 15 –º–∏–Ω—É—Ç  
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ–ª—è –∫–∞–∫: "description", "category", "min_price", "max_price", "rate", "review_amount",
                          "seller_amount"

## üìù –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤  
{"asctime": "2025-10-06 10:17:35,081", "levelname": "INFO", "module": "base", "message": "select current_schema()"}
{"asctime": "2025-10-06 10:17:35,081", "levelname": "INFO", "module": "base", "message": "[raw sql] ()"}
{"asctime": "2025-10-06 11:01:24,836", "levelname": "INFO", "message": "Celery task 'update_products' started"}
{"asctime": "2025-10-06 11:01:25,211", "levelname": "INFO", "message": "", "type": "task_finished", "product_id": 14}
{"asctime": "2025-10-06 11:17:48,422", "levelname": "INFO", "message": "Celery task 'update_products' started"}


## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ  
- [x] –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞   
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL  
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON  
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  
- [x] Docker  
- [x] Alembic –º–∏–≥—Ä–∞—Ü–∏–∏  
- [x] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–±–æ—Ä –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JSON
- [x] –≠–∫—Å–ø–æ—Ä—Ç offers
